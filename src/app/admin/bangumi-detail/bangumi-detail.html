<nav class="nav-admin">
  <h1 class="ui header">编辑新番</h1>
</nav>
<div class="bangumi-container">
  <form (ngSubmit)="onSubmit()" class="bangumi-form ui form ui dimmable" [ngClass]="{dimmed: !bangumi.bgm_id}">
    <div class="ui simple inverted dimmer">
      <div class="ui loader"></div>
    </div>
    <section class="bangumi-info">
      <div class="bangumi-image">
        <img src="{{bangumi.cover || bangumi.image}}" alt="image">
      </div>
      <div class="bangumi-basic-info">
        <div class="field">
          <label>番组名</label>
          <input type="text" [(ngModel)]="bangumi.name"/>
        </div>
        <div class="field">
          <label>中文名</label>
          <input type="text" [(ngModel)]="bangumi.name_cn"/>
        </div>
        <div class="field">
          <label>放送开始</label>
          <input type="text" [(ngModel)]="bangumi.air_date"/>
        </div>
        <div class="field">
          <label>放送星期</label>
          <input type="text" [(ngModel)]="bangumi.air_weekday"/>
        </div>
        <div class="field">
          <label>RSS</label>
          <input type="text" [(ngModel)]="bangumi.rss"/>
        </div>
        <div class="field">
          <label>正则表达式(用于匹配番组名称以及话数)</label>
          <input type="text" [(ngModel)]="bangumi.eps_regex"/>
        </div>
      </div>
    </section>
    <button class="ui right floated primary button" [ngClass]="{loading: isSavingBangumi}" type="submit">Save</button>
  </form>
  <div class="bangumi-episodes" *ngIf="bangumi.id">
    <h4 class="ui header">各话列表</h4>
    <div class="ui divider"></div>
    <div class="episode-list">
      <episode-detail class="episode-item ui segment" [episode]="episode" *ngFor="let episode of bangumi.episodes">
      </episode-detail>
    </div>
  </div>
</div>
